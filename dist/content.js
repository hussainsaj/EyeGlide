(()=>{"use strict";const e=e=>null==e||""===e,n=(e,n)=>Object.keys(e).reduce(((e,t)=>(n(e[t])&&delete e[t],e)),e),t=["<b>","</b>"],o=[[0,4,12,17,24,29,35,42,48],[1,2,7,10,13,14,19,22,25,28,31,34,37,40,43,46,49],[1,2,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49],[0,2,4,5,6,8,9,11,14,15,17,18,20,0,21,23,24,26,27,29,30,32,33,35,36,38,39,41,42,44,45,47,48],[0,2,3,5,6,7,8,10,11,12,14,15,17,19,20,21,23,24,25,26,28,29,30,32,33,34,35,37,38,39,41,42,43,44,46,47,48]],l=(e,n)=>{const{length:t}=e,l=o[n-1]??o[0],i=l.findIndex((e=>t<=e));let r=t-i;return-1===i&&(r=t-l.length),Math.max(r,0)},i=(e,n)=>"string"==typeof n?`${n}${e}${n}`:`${n[0]}${e}${n[1]}`,r=/(<!--[\s\S]*?-->)|(<[^>]*>)/g,c=/(\p{L}|\p{Nd})*\p{L}(\p{L}|\p{Nd})*/gu,s=(o,s={})=>{if(null==o||!o.length)return"";const{fixationPoint:d,sep:u,ignoreHtmlTag:a}=(o=>((t,o)=>({...o,...n(t,e)}))(o,{sep:t,fixationPoint:1,ignoreHtmlTag:!0}))(s),f=o.matchAll(c);let m,p="",g=0;a&&(m=(e=>{const n=(e=>[...e].map((e=>{const n=e.index,[t]=e,{length:o}=t;return[n,n+o-1]})))(e.matchAll(r)).reverse();return e=>{const t=e.index,o=n.find((([e])=>t>e));if(!o)return!1;const[,l]=o;return t<l}})(o));for(const e of f){if(null==m?void 0:m(e))continue;const[n]=e,t=e.index,r=t+l(n,d);p+=o.slice(g,t),t!==r&&(p+=i(o.slice(t,r),u)),g=r}return p+o.slice(g)};function d(e){return s(e)}function u(e){const n=e.nodeName.toLowerCase();if("a"===n){const n=d(e.textContent.trim()),t=document.createElement("span");t.innerHTML=n,e.innerHTML=t.innerHTML}else if("ul"===n||"ol"===n){const n=e.getElementsByTagName("li");for(let e=0;e<n.length;e++)u(n[e])}else if("p"===n||"span"===n||"li"===n){const n=e.childNodes;for(let t=0;t<n.length;t++){const o=n[t];if(o.nodeType===Node.TEXT_NODE){const n=d(o.textContent),t=document.createDocumentFragment(),l=document.createElement("span");for(l.innerHTML=n;l.firstChild;)t.appendChild(l.firstChild);e.replaceChild(t,o)}else u(o)}}}document.querySelectorAll("p, ul, ol").forEach((e=>{u(e)}))})();